[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "climfor",
    "section": "",
    "text": "Introduction\nDefine the project.\n\n\nCode\nst_read(\"results/data/amazonia/\", quiet = TRUE) %&gt;% \n  st_union() %&gt;% \n  leaflet() %&gt;% \n  addPolygons() %&gt;% \n  addTiles()\n\n\n\n\n\n\nQuick list:\n\npython xclim and climate-indices\nindices: ds, fwi, dryspell etc to be computed\nadjust deforestation to clim data res\ntest kendall’s tau\nmean, extremes, trends (xarray polyfit), indices, dry season\nWhole Amazonia\nCHIRPS, GSHTD, MODIS LST, TMF, …\nmoisture flow (10.5194/essd-12-3177-2020?), https://doi.pangaea.de/10.1594/PANGAEA.912710\nevaluation against stations"
  },
  {
    "objectID": "01_forest.html",
    "href": "01_forest.html",
    "title": "Forest",
    "section": "",
    "text": "TMF\n\n\nCode\nrast(\"results/data/forest/tmf.nc\") %&gt;% \n  as.data.frame() %&gt;% \n  gather(year, value) %&gt;% \n  mutate(year = as.numeric(gsub(\"tmf_year=\", \"\", year))) %&gt;% \n  mutate(type = recode(value, \n                       \"1\" = \"undisturbed\",\n                       \"2\" = \"degraded\",\n                       \"3\" = \"deforested\",\n                       \"4\" = \"regrowth\",\n                       \"5\" = \"water\",\n                       \"6\" = \"other\")) %&gt;% \n  group_by(year, type) %&gt;% \n  summarise(N = n()) %&gt;% \n  ggplot(aes(year, N, col = type)) +\n  geom_line() +\n  theme_bw()"
  },
  {
    "objectID": "02_temperature.html",
    "href": "02_temperature.html",
    "title": "Temperature",
    "section": "",
    "text": "GSHTD\n\n\nCode\nrast(\"results/data/temperature/gshtd.nc\", \"tas\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, tas, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"tas_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/temperature/gshtd.nc\", \"tas\"))[index]) %&gt;% \n  ggplot(aes(date, tas)) +\n  geom_line(aes(group = paste(x,y)), col = \"lightgrey\", alpha = 0.1) +\n  geom_smooth(se = FALSE) +\n  theme_bw()\n\n\n\n\n\n\n\nCode\nrast(\"results/data/temperature/gshtd.nc\", \"tas\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, tas, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"tas_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/temperature/gshtd.nc\", \"tas\"))[index]) %&gt;% \n  filter(month(date) == 1) %&gt;% \n  group_by(x, y, year = year(date)) %&gt;% \n  summarise(tas = mean(tas)) %&gt;% \n  ggplot(aes(year, tas)) +\n  geom_point(aes(group = paste(x,y)), col = \"lightgrey\", alpha = 0.1) +\n  geom_smooth(se = FALSE, method = \"lm\") +\n  theme_bw()\n\n\n\n\n\n\n\nCode\nrast(\"results/data/temperature/gshtd.nc\", \"tas\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, tas, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"tas_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/temperature/gshtd.nc\", \"tas\"))[index]) %&gt;% \n  filter(month(date) == 1) %&gt;% \n  group_by(x, y, year = year(date)) %&gt;% \n  summarise(tas = mean(tas)) %&gt;% \n  ungroup() %&gt;% \n  nest(tas, year) %&gt;% \n  mutate(models = map(data, ~broom::tidy(lm(tas ~ year, data = .)))) %&gt;% \n  select(-data) %&gt;% \n  unnest() %&gt;% \n  filter(term == \"year\") %&gt;% \n  ggplot(aes(x, y, fill = estimate)) +\n  geom_raster() +\n  theme_bw() +\n  scale_fill_viridis_c()\n\n\n\n\n\n\n\nCode\nrast(\"results/data/forest/tmf.nc\")[[\"tmf_year=2022\"]] %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n    mutate(type = recode(`tmf_year=2022`, \n                       \"1\" = \"undisturbed\",\n                       \"2\" = \"degraded\",\n                       \"3\" = \"deforested\",\n                       \"4\" = \"regrowth\",\n                       \"5\" = \"water\",\n                       \"6\" = \"other\")) %&gt;% \n  ggplot(aes(y, x, fill = type)) +\n  geom_raster() +\n  theme_bw() +\n  scale_fill_viridis_d()"
  },
  {
    "objectID": "03_precipitation.html",
    "href": "03_precipitation.html",
    "title": "Precipitation",
    "section": "",
    "text": "CHIRPS\n\n\nCode\nrast(\"results/data/precipitation/chirps_tau.nc\") %&gt;% \n  as.data.frame(xy = T) %&gt;% \n  ggplot(aes(x,y)) +\n  geom_raster(aes(fill = tau)) +\n  geom_point(aes(size = pval &lt; 0.05)) +\n  theme_bw() +\n  scale_fill_gradient2(expression(tau)) +\n  scale_size_manual(values = c(NA, .1), guide = \"none\")\n\n\nWarning: Removed 3180 rows containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\nCode\n# deforest &lt;- rast(\"results/data/forest/deforestation_year.tif\") %&gt;% \n#   resample(rast(tau)) %&gt;% \n#   as.data.frame(xy = T)\n# deforest$tau &lt;- terra::extract(rast(tau), deforest[c(\"x\", \"y\")])$tau\n# deforest %&gt;% \n#   mutate(age = 2022-year) %&gt;% \n#   ggplot(aes(age, tau)) +\n#   geom_point() +\n#   theme_bw() +\n#   geom_smooth()\n\n\n\n\nCode\nrast(\"results/data/precipitation/chirps.nc\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, pr, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"pr_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/precipitation/chirps.nc\"))[index]) %&gt;% \n  ggplot(aes(date, pr)) +\n  geom_line(aes(group = paste(x,y)), col = \"lightgrey\", alpha = 0.1) +\n  geom_smooth(se = FALSE) +\n  theme_bw()\n\n\n\n\nCode\nrast(\"results/data/precipitation/chirps.nc\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, pr, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"pr_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/precipitation/chirps.nc\"))[index]) %&gt;% \n  filter(month(date) == 1) %&gt;% \n  group_by(x, y, year = year(date)) %&gt;% \n  summarise(pr = sum(pr)) %&gt;% \n  ggplot(aes(year, pr)) +\n  geom_point(aes(group = paste(x,y)), col = \"lightgrey\", alpha = 0.1) +\n  geom_smooth(se = FALSE, method = \"lm\") +\n  theme_bw()\n\n\n\n\n\n\n\nCode\nrast(\"results/data/precipitation/chirps.nc\") %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n  gather(index, pr, -x, -y) %&gt;% \n  mutate(index = as.numeric(gsub(\"pr_\", \"\", index))) %&gt;% \n  mutate(date = time(rast(\"results/data/precipitation/chirps.nc\"))[index]) %&gt;% \n  filter(month(date) == 1) %&gt;% \n  group_by(x, y, year = year(date)) %&gt;% \n  summarise(pr = sum(pr)) %&gt;% \n  ungroup() %&gt;% \n  nest(pr, year) %&gt;% \n  mutate(models = map(data, ~broom::tidy(lm(pr ~ year, data = .)))) %&gt;% \n  select(-data) %&gt;% \n  unnest() %&gt;% \n  filter(term == \"year\") %&gt;% \n  ggplot(aes(x, y, fill = estimate)) +\n  geom_raster() +\n  theme_bw() +\n  scale_fill_viridis_c()\n\n\n\n\nCode\nrast(\"results/data/forest/tmf.nc\")[[\"tmf_year=2022\"]] %&gt;% \n  as.data.frame(xy = TRUE) %&gt;% \n    mutate(type = recode(`tmf_year=2022`, \n                       \"1\" = \"undisturbed\",\n                       \"2\" = \"degraded\",\n                       \"3\" = \"deforested\",\n                       \"4\" = \"regrowth\",\n                       \"5\" = \"water\",\n                       \"6\" = \"other\")) %&gt;% \n  ggplot(aes(y, x, fill = type)) +\n  geom_raster() +\n  theme_bw() +\n  scale_fill_viridis_d()"
  },
  {
    "objectID": "literature.html#to-read",
    "href": "literature.html#to-read",
    "title": "Literature",
    "section": "To read",
    "text": "To read"
  },
  {
    "objectID": "meetings.html#xxxx23---kick-off",
    "href": "meetings.html#xxxx23---kick-off",
    "title": "Meetings",
    "section": "XX/XX/23 - Kick off",
    "text": "XX/XX/23 - Kick off\nWho"
  }
]